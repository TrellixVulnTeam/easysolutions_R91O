#:import C kivy.utils.get_color_from_hex
<SettingsWindow>:
    remove_saved_login:remove_saved_login
    storage_path : storage_path
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.1)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press:app.settingsscreen_to_userchoicescreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Settings..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)

        BoxLayout:
            size_hint:(1,0.9)
            BoxLayout:
                size_hint:(0.2,1)
            BoxLayout:
                orientation:"vertical"
                BoxLayout:
                    size_hint:(1,0.2)
                ImageButton:
                    source:"resources/icons/settings2.png"
                BoxLayout:
                    size_hint:(1,0.2)
                BoxLayout:
                    size_hint:(1,0.1)
                    MDLabel:
                        text:"clear saved account?"
                    MDSwitch:
                        id:remove_saved_login
                BoxLayout:
                    size_hint:(1,0.4)
                BoxLayout:
                    size_hint:(1,0.2)
                    MDLabel:
                        text:"Storage path"
                    BoxLayout:
                    BoxLayout:
                        orientation:"vertical"
                        BoxLayout:
                            size_hint:(1,0.95)
                        BoxLayout:
                            size_hint:(1,0.05)
                            MDLabel:
                                id:storage_path
                                text:""

                BoxLayout:
                    size_hint:(1,0.4)
                BoxLayout:
                    size_hint:(1,0.1)
                    MDRaisedButton:
                        text:"Save"
                        on_press:app.save_settings()
                    BoxLayout:
                    MDRaisedButton:
                        text:"Reset Defaults"
                        on_press:app.settings_reset()
                BoxLayout:
            BoxLayout:
                size_hint:(0.2,1)

<SearchlessonsWindow>:
    class_ : class_
    publisher_name : publisher_name
    lesson_name : lesson_name
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.1)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press:app.searchlessonsscreen_to_userchoicescreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Search Lessons..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)

        BoxLayout:
            size_hint:(1,0.9)
            BoxLayout:
                size_hint:(0.3,1)
            BoxLayout:
                orientation:"vertical"
                BoxLayout:
                    size_hint:(1,0.2)
                MDCard:
                    padding:60
                    elevation:1010
                    pos_hint: {"center_x": .5, "center_y": .5}

                    BoxLayout:

                        BoxLayout:

                            ImageButton:
                                source:"resources/icons/magnifying-glass.png"
                        BoxLayout:
                            orientation:"vertical"


                            BoxLayout:
                                size_hint:(1,0.3)

                            MDTextField:
                                id: publisher_name
                                hint_text:"enter full name of publisher"

                            MDTextField:
                                id:class_
                                hint_text:"enter class"

                            MDTextField:
                                id:lesson_name
                                hint_text:"enter lesson name"
                            BoxLayout:
                                size_hint:(1,0.2)
                            BoxLayout:
                                size_hint:(1,0.1)
                                BoxLayout:
                                MDFillRoundFlatButton:
                                    text:"Done"
                                    on_press:app.clicked_done_at_searchlessonsscreen()
                                    md_bg_color: app.theme_cls.primary_dark
                                BoxLayout:
                            BoxLayout:
                                size_hint:(1,0.4)
                BoxLayout:
                    size_hint:(1,0.2)
            BoxLayout:
                size_hint:(0.3,1)




<RewardsWindow>:
    balance: balance
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.3)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press: app.rewardsscreen_to_userchoicescreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]My Earning..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)
            BoxLayout:
        BoxLayout:
            orientation:"vertical"
            BoxLayout:
                ImageButton:
                    source:"resources/icons/piggy-bank.png"
            BoxLayout:
                size_hint:(1,0.4)
                Label:
                    id:balance
                    markup:True
                    text:"[font=first][color=#184B29][size=130]10[/size][/color][/font] [font=first][color=#184B29][size=30]usd.[/size][/color][/font]"
            BoxLayout:
<ShowResult>:
    lay:lay
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.1)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press: app.mycontributionhistoryscreen_to_userchoicescreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]My Contribution..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)


        BoxLayout:
            size_hint:(1,0.9)

            ScrollView:
                GridLayout:
                    id:lay
                    orientation: "vertical"
                    size_hint_y: None

                    height: self.minimum_height  #<<<<<<<<<<<<<<<<<<<<
                    row_default_height: 180
                    cols:4
                    padding:20
                    spacing:20

<MyWid>:
    one:one
    two:two
    three:three
    four:four
    five:five
    BoxLayout:
        BoxLayout:
        MDCard:
            orientation: "vertical"
            padding: "18dp"
            size_hint: None, None
            size: "280dp", "180dp"
            elevation:1010
            focus_behavior : True





            MDLabel:
                text: ""
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                id:one

            MDLabel:
                text: ""
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                id:two

            MDLabel:
                text: ""
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                id:three

            MDLabel:
                text: ""
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                id:four

            MDLabel:
                text: ""
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                id:five
        BoxLayout:
<FileLoader>:
    filechooser: filechooser

    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        canvas.before:
            Color:
                rgba : rgba("#1034a6")
            Rectangle:
                pos: self.pos
                size:self.size
        FileChooserIconView:

            id: filechooser
            path : '/'
            multiselect: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"


            Button:
                text: "Load"
                on_release: app.load(filechooser.path, filechooser.selection)
<ContributeWindow>:
    transaction_mode: transaction_mode
    publisher_name : publisher_name
    class_for_pdf: class_for_pdf
    lesson_name: lesson_name
    transaction_mobile_number: transaction_mobile_number
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.3)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press:app.contributescreen_to_userchoicescreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Contribute..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)
            BoxLayout:
        BoxLayout:
            BoxLayout:
                size_hint:(0.3,1)

            BoxLayout:
                orientation:"vertical"
                MDCard:
                    padding:60
                    elevation:1010
                    pos_hint: {"center_x": .5, "center_y": .5}
                    BoxLayout:
                        BoxLayout:

                            ImageButton:
                                source:"resources/icons/love.png"
                        BoxLayout:

                            orientation:"vertical"



                            MDTextField:
                                id: publisher_name
                                hint_text:"enter full publisher's name"

                            MDTextField:
                                id:class_for_pdf
                                hint_text:"enter class"

                            MDTextField:
                                id:lesson_name
                                hint_text:"enter lesson name"
                            BoxLayout:
                                size_hint:(1,0.4)
                                BoxLayout:
                                MDRaisedButton:
                                    id:transaction_mode
                                    size_hint: (None, None)
                                    size: 130,30
                                    sync_height: True
                                    text: 'payment mode'
                                    on_release: app.show_transaction_mode_list_bottom_sheet()
                                BoxLayout:
                            BoxLayout:
                                size_hint:(1,0.1)

                            MDTextField:
                                id:transaction_mobile_number
                                hint_text:"transaction mob num(with calling code)"
                            BoxLayout:
                                size_hint:(1,0.1)
                            BoxLayout:
                                size_hint:(1,0.2)
                                BoxLayout:
                                MDRectangleFlatButton:
                                    size_hint: (None, None)
                                    size: 130,30
                                    text:"select file"
                                    on_press:app.contributescreen_to_fileloaderscreen()
                                BoxLayout:
                            BoxLayout:
                                size_hint:(1,0.1)
                            BoxLayout:
                                size_hint:(1,0.4)
                                BoxLayout:
                                MDFillRoundFlatButton:
                                    text:"Done"
                                    on_press:app.clicked_done_at_contributescreen()
                                    md_bg_color: app.theme_cls.primary_dark
                                BoxLayout:

            BoxLayout:
                size_hint:(0.3,1)
        BoxLayout:
            size_hint:(1,0.3)
            orientation:"vertical"




<UserchoiceWindow>:
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.3)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size

                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Easy Solutions[/size][/color][/font]"

            BoxLayout:
        BoxLayout:

            BoxLayout:
                orientation:"vertical"
                BoxLayout:
                    BoxLayout:
                        spacing:-90
                        orientation:"vertical"
                        ImageButton:
                            source:"resources/icons/contribute.png"

                            on_press:app.userchoicescreen_to_contributescreen()
                        Label:
                            color: C('#000000')
                            text:"  contribute"
                    BoxLayout:
                        orientation:"vertical"
                        BoxLayout:
                            spacing:-90
                            orientation:"vertical"
                            ImageButton:
                                source:"resources/icons/history.png"

                                on_press:app.userchoicescreen_to_mycontributionhistoryscreen()
                            Label:
                                color: C('#000000')
                                text:"my contribution history"
                    BoxLayout:
                        orientation:"vertical"
                        BoxLayout:
                            spacing:-90
                            orientation:"vertical"
                            ImageButton:
                                source:"resources/icons/settings.png"

                                on_press:app.userchoicescreen_to_settingsscreen()
                            Label:
                                color: C('#000000')
                                text:"settings"
                BoxLayout:
                    BoxLayout:
                        spacing:-90
                        orientation:"vertical"
                        ImageButton:
                            source:"resources/icons/search.png"
                            on_press:app.userchoicescreen_to_searchlessonsscreen()
                        Label:
                            color: C('#000000')
                            text:"search lessons"
                    BoxLayout:
                        spacing:-90
                        orientation:"vertical"
                        ImageButton:
                            source:"resources/icons/money.png"
                            on_press:app.userchoicescreen_to_rewardsscreen()
                        Label:
                            color: C('#000000')
                            text:"my rewards"

                    BoxLayout:
                        spacing:-90
                        orientation:"vertical"
                        ImageButton:
                            source:"resources/icons/logout.png"
                            on_press:app.userchoicescreen_to_signinscreen()
                        Label:
                            color: C('#000000')
                            text:"sign out"



<SigninWindow>:
    email:email
    checkbox: checkbox
    password:password
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.3)


            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press:app.signinscreen_to_mainscreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Sign In..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)



            BoxLayout:


        BoxLayout:
            BoxLayout:

            BoxLayout:
                orientation:"vertical"
                BoxLayout:
                    ImageButton:
                        source:"resources/icons/sign2.png"
                BoxLayout:

                    orientation:"vertical"
                    MDTextField:
                        id:email
                        hint_text:"enter email"

                    MDTextField:
                        id:password
                        hint_text:"enter password"
                BoxLayout:

                    size_hint:(1,0.2)

                    Button:
                        text:"forgot password?"
                        color:0,0,0,1
                        background_color:0,0,0,0


                BoxLayout:
                    orientation:"vertical"


                    BoxLayout:

                        BoxLayout:
                            Label:
                                color:0,0,0,1
                                text:"Remember me"
                                text_size: self.size
                                halign: 'right'
                                valign: 'bottom'

                        BoxLayout:
                            size_hint:(0.1,0.2)


                            CheckBox:
                                id:checkbox
                                color:0,0,0,1
                        BoxLayout:
                            size_hint:(0.6,0.2)
                    BoxLayout:


            BoxLayout:
        BoxLayout:
            size_hint:(1,0.3)
            orientation:"vertical"

            BoxLayout:
                BoxLayout:
                MDFillRoundFlatButton:
                    text:"Done"
                    on_press:app.clicked_done_at_signinscreen()

                    md_bg_color: app.theme_cls.primary_dark
                BoxLayout:

            BoxLayout:
                size_hint:(1,1)


<LoadingWindow>:
    loadingimage1: loadingimage1
    loadingimage2: loadingimage2
    loadingimage3: loadingimage3

    BoxLayout:
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size
        FloatLayout:
            ImageButton:
                id:loadingimage1
                opacity : 1
                source:"resources/icons/loading1.png"
            ImageButton:
                id:loadingimage2
                opacity : 0
                source:"resources/icons/loading2.png"
            ImageButton:
                id:loadingimage3
                opacity : 0
                source:"resources/icons/loading3.png"
<MainWindow>:

    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.3)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size

                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Easy Solutions[/size][/color][/font]"
            BoxLayout:
        BoxLayout:
            BoxLayout:


            BoxLayout:

                MDCard:

                    pos_hint: {"center_x": .5, "center_y": .5}
                    BoxLayout:
                        orientation:"vertical"
                        BoxLayout:
                            size_hint:(1,0.2)
                        BoxLayout:
                            spacing:-70
                            orientation:"vertical"
                            ImageButton:
                                source:"resources/icons/existing_user.png"

                                on_press:app.mainscreen_to_signinscreen()
                            Label:
                                color: C('#111111')
                                text:"login"

                        BoxLayout:
                            spacing:-70
                            orientation:"vertical"
                            ImageButton:
                                source:"resources/icons/add_user.png"
                                on_press:app.mainscreen_to_signupscreen()
                            Label:
                                color: C('#111111')
                                text:"sign up"
                        BoxLayout:
                            size_hint:(1,0.1)
            BoxLayout:
        BoxLayout:

            size_hint:(1,0.3)
            BoxLayout:
            BoxLayout:
            BoxLayout:
                BoxLayout:
                ImageButton:
                    source:"mylogo2.png"



<SignupWindow>:
    new_user_name : new_user_name
    new_user_phonenumber: new_user_phonenumber
    new_user_password: new_user_password
    new_user_passwordretype: new_user_passwordretype
    new_user_email: new_user_email
    BoxLayout:

        orientation: 'vertical'
        canvas.before:
            Color:

                rgba :  rgba("#B0B0B0")
            Rectangle:

                pos: self.pos
                size:self.size




        BoxLayout:
            orientation:"vertical"
            size_hint:(1,0.3)
            BoxLayout:

                canvas.before:
                    Color:

                        rgba :  rgba("#282828")
                    Rectangle:

                        pos: self.pos
                        size:self.size
                BoxLayout:
                    size_hint:(0.1,1)
                    orientation:"vertical"
                    BoxLayout:
                        size_hint:(1,0.4)
                    BoxLayout:
                        BoxLayout:
                            size_hint:(0.1,1)
                        ImageButton:
                            source:"resources/icons/back.png"
                            on_press:app.signupscreen_to_mainscreen()
                        BoxLayout:
                            size_hint:(0.1,1)
                    BoxLayout:
                        size_hint:(1,0.4)
                Label:
                    markup:True
                    text:"[font=second][color=#ffffff][size=50]Sign Up..[/size][/color][/font]"
                BoxLayout:
                    size_hint:(0.1,1)
            BoxLayout:
        BoxLayout:
            BoxLayout:
            BoxLayout:
                orientation:"vertical"
                ImageButton:
                    source:"resources/icons/new-user.png"
                MDTextField:
                    id: new_user_name
                    hint_text:"enter your name"

                MDTextField:
                    id:new_user_phonenumber
                    hint_text:"phone number(with counter code)"


                MDTextField:
                    id:new_user_password
                    hint_text:"enter password"

                MDTextField:
                    id:new_user_passwordretype
                    hint_text:"retype password"

                MDTextField:
                    id: new_user_email
                    hint_text:"enter email"
            BoxLayout:
        BoxLayout:
            size_hint:(1,0.3)
            orientation:"vertical"
            BoxLayout:
                size_hint:(1,0.5)
            BoxLayout:
                BoxLayout:


                MDFillRoundFlatButton:
                    text:"Done"
                    on_press:app.clicked_done_at_signupscreen()
                    md_bg_color: app.theme_cls.primary_dark
                BoxLayout:

            BoxLayout:
                size_hint:(1,1)






